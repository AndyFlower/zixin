<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cul.culsite.dao.expand.MUserDTOExpandMapper">

	<select id="selectByLoginInfo" resultMap="com.cul.culsite.dao.MUserDTOMapper.BaseResultMap"
		parameterType="com.cul.culsite.dto.MUserDTO">
		select
		<include refid="com.cul.culsite.dao.MUserDTOMapper.Base_Column_List" />
		from M_USER
		<where>
			<trim prefix="(" suffix=")" prefixOverrides="or">
				<if test="userName != null">
					USER_NAME = #{userName}
				</if>
				<if test="mobile != null">
					or MOBILE = #{mobile}
				</if>
				<if test="email != null">
					or EMAIL = #{email}
				</if>
			</trim>
			<trim prefix=" and (" suffix=")" prefixOverrides="and">
				<if test="issuerId != null">
					ISSUER_ID = #{issuerId}
				</if>
				<if test="loginPassword != null">
					and LOGIN_PASSWORD = #{loginPassword}
				</if>
			</trim>
		</where>
	</select>
</mapper>