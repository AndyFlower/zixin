<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cul.culsite.dao.ProcedureMapper" >
	

  <select id="extractCardByProductId" parameterType="java.util.Map" statementType="CALLABLE"  
    resultType="string">  
    {call VP_CARD_GEN(
    #{productId,jdbcType=VARCHAR,mode=IN},
    #{issuerId,jdbcType=VARCHAR,mode=IN},
    #{status,jdbcType=VARCHAR,mode=IN},
    #{seqName,jdbcType=VARCHAR,mode=IN},  
    #{cardNo,jdbcType=VARCHAR,mode=OUT},
    #{rCode,jdbcType=VARCHAR,mode=OUT},
    #{rMsg,jdbcType=VARCHAR,mode=OUT})}  
  </select>
  
  <select id="extractMutiCardByProductId" parameterType="java.util.Map" statementType="CALLABLE"  
    resultType="string">  
    {call VP_MUTI_CARD_GEN(
    #{productId,jdbcType=VARCHAR,mode=IN},
    #{issuerId,jdbcType=VARCHAR,mode=IN},
    #{status,jdbcType=VARCHAR,mode=IN},
    #{cardNum,jdbcType=DECIMAL,mode=IN},  
    #{firstCardNo,jdbcType=VARCHAR,mode=OUT},
    #{lastCardNo,jdbcType=VARCHAR,mode=OUT},
    #{rCode,jdbcType=VARCHAR,mode=OUT},
    #{rMsg,jdbcType=VARCHAR,mode=OUT})}  
  </select>
  
  <select id="extractDefaultCardByIssuerId" parameterType="java.util.Map" statementType="CALLABLE"  
    resultType="string">  
    {call VP_DEFAULT_CARD_GEN(
    #{productId,jdbcType=VARCHAR,mode=IN},
    #{issuerId,jdbcType=VARCHAR,mode=IN},
    #{status,jdbcType=VARCHAR,mode=IN},
    #{cardType,jdbcType=VARCHAR,mode=IN},  
    #{cardNo,jdbcType=VARCHAR,mode=OUT},
    #{rCode,jdbcType=VARCHAR,mode=OUT},
    #{rMsg,jdbcType=VARCHAR,mode=OUT})}   
  </select>
  
   <select id="extractBatchDefaultCardByIssuerId" parameterType="java.util.Map" statementType="CALLABLE"  
    resultType="string">  
    {call vp_batch_default_card_gen(
    #{issuerId,jdbcType=VARCHAR,mode=IN},
    #{status,jdbcType=VARCHAR,mode=IN},
    #{cardType,jdbcType=VARCHAR,mode=IN},
    #{cardNum,jdbcType=VARCHAR,mode=IN},  
    #{startSeq,jdbcType=VARCHAR,mode=OUT},
    #{endSeq,jdbcType=VARCHAR,mode=OUT},
    #{rCode,jdbcType=VARCHAR,mode=OUT},
    #{rMsg,jdbcType=VARCHAR,mode=OUT})}   
  </select>
  
</mapper>