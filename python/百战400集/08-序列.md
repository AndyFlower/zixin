> 本系列为自己学习Python的笔记，如有误，欢迎大家指正

## 列表特点

序列是一种数据存储方式，用来存储一系列的数据。在内存中，序列就是一块用来存放多个值的==连续==的内存空间。比如一共整数序列[10,20,30,40]可以这样示意表示:

![image-20210112085611959](D:\slpworkspace\github\2020\python\images\image-20210112085611959.png)

由于python3中一切皆对象，在内存中实际上是按照下列方式存储的：

a=[10,20,30,40]

![image-20210112085721310](D:\slpworkspace\github\2020\python\images\image-20210112085721310.png)

从图中，可以看出序列中存储的是整数对象的地址，而不是整数对象的值。python中常用的序列结构有：字符串  列表 元祖 字典  集合。

## 列表简介

列表：用于存储任意数目、任意类型的数据集合

列表内置可变序列，是包含多个元素的有序连续的内存空间。列表定义的标准语法格式：

a=[10,20,30,40]

其中，10 20 30 40这些称为：列表a的元素

列表中的元素可以各不相同，可以是任意类型。比如：

a=[10,20,'abc',True]

列表对象的常用方法：

| 方法                 | 要点         | 描述                                                        |
| -------------------- | ------------ | ----------------------------------------------------------- |
| list.append(x)       | 增加元素     | 将元素x增加到列表list尾部                                   |
| list.extend(aLIst)   | 增加元素     | 将列表aLIst所有元素都增加到列表list尾部                     |
| list.insert(index,x) | 增加元素     | 在列表list指定位置index处插入元素x                          |
| list.remove(x)       | 删除元素     | 在列表list中删除首次出现的指定元素x                         |
| list.pop(x)          | 删除元素     | 删除并返回列表list指定位置index处的元素                     |
| list.pop([index])    | 删除元素     | 删除并返回列表list指定位置index处的元素，默认是最后一个元素 |
| list.clear()         | 删除所有元素 | 删除列表所有元素，并不是删除列表对象                        |
| list.index(x)        | 访问元素     | 返回第一个x的索引位置，若不存在x元素则抛出异常              |
| list.count(x)        | 计数         | 返回指定元素x在列表list中出现的次数                         |
| len(list)            | 列表长度     | 返回列表中包含元素的个数                                    |
| list.reverse()       | 翻转列表     | 所有元素原地翻转                                            |
| list.sort()          | 排序         | 所有元素原地排序                                            |
| list.copy()          | 浅拷贝       | 返回列表对象的浅拷贝                                        |

Python的列表大小可变，根据需要随时增加或缩小

字符串和列表都是序列类型，一个字符串是一个==字符序列==，一个列表是==任何元素==的序列。

## 列表的创建

#### 基本语法[]的创建

```python
a = [10,20,'slp','sx']
a=[] #创建一个空的列表对象
```

#### list()创建

使用list()可以将任何可迭代的数据转化为列表

```python
a =list()# 创建一个空的列表对象
a = list(range(10))
a = list('slp,sx')

```

#### range()创建整数列表

range()可以帮助我们非常方便的创建整数列表：range([start],end,[step])

- start:可选  起始数字 默认0
- end:必选 结尾数字
- step:可选 表示步长 默认为1

python3中range()返回的是一个range对象，而不是列表，我们需要通过list方法将其转换成列表对象。

#### 推导式生成列表

使用列表推导式可以非常方便的创建数据，在开发中经常使用。但是，由于涉及到for循环和if语句

```python
a = [x*2 for x in range(5)]  #循环创建多个元素
a = [x*2 for x in range(100) if x%9==0] #通过if过滤元素

```

## 列表元素的增加和删除

当列表增加和删除元素时，列表会自动进行内存管理，大大减少了程序员的负担。但这个特点涉及列表元素的大量移动，效率较低。除非毕业，我们一般只在列表的尾部添加元素，这会大大特高列表的操作效率。

#### append()方法

原地修改列表对象，是真正的列表尾部添加新的元素，速度最快。推荐使用

```python
a = [20,40]
a.append(80)
```

#### +运算符操作

并不是真正的尾部添加元素，而是创建新的列表对象；将原列表的元素和新列表的元素依次复制到新的列表对象中。这样，会涉及大量的复制操作，对于操作大量元素不建议使用。

```python
a = [20,40]
id(a) #46016027
a = a+[50]
id(a)# 46015432
```

由上可知，a的地址发生了变化，也就是创建了新的列表对象。

#### extend()方法

将目标列表的所有元素添加到本列表的尾部，属于原地操作，不创建新的列表对象

```python
a = [20,40]
a.extend([50,60])
```

#### insert()插入元素

使用insert()方法可以将制定的元素插入到列表对象的任意制定位置。这样会让插入位置后面所有的元素进行移动，会影响处理速度。涉及大量元素时，尽量避免使用。类似这种发生移动的函数还有remove() pop() del() 他们在删除非尾部元素时也会发生操作位置后面元素的移动

#### 乘法扩展

使用乘法扩展列表，生成一个新列表，新列表元素是原列表元素的多次重复。

适用于乘法操作的还有：字符串  元祖。