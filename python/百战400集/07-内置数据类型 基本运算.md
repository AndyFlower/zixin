> 本系列为自己学习Python的笔记，如有误，欢迎大家指正

## 最基本内置数据类型介绍

每个对象都有类型，python中最基本的内置数据类型：

1. 整型

   整数  234 

2. 浮点型

   小数  3.14

3. 布尔型

   表示真假 仅包含 True False

4. 字符串型

   由字符串组成的序列

### 数字

python中支持整数和浮点数，我们可以对数字做如下运算

| 运算符 | 说明       | 示例 | 结构 |
| ------ | ---------- | ---- | ---- |
| +      | 加法       | 3+2  | 5    |
| -      | 减法       | 30-5 | 25   |
| *      | 乘法       | 3*6  | 18   |
| /      | 浮点数除法 | 8/2  | 4.0  |
| //     | 整数除法   | 7//2 | 3    |
| %      | 模（取余） | 7%4  | 3    |
| **     | 幂         | 2**3 | 8    |

-----

- 除数为0会产生异常 ZeroDivisionError

- 使用divmod()函数同时得到商和余数

--------

### 整数

python中，除10进制，还有其他三种进制

- 0b或0B 二进制 0 1
- 0o或0O 八进行 0 1 2 3 4 5 6 7
- 0x或0X 十六进制 0 1 2 3 4 5 6 7 8 9 a b c d e f

这三种进行可以非常方便的进行“位运算”操作

#### 使用int()实现类型转换

1. 浮点数直接舍去小数部分
2. 布尔值True转为1，False转为0
3. 字符串符合整数格式（浮点数格式不行）则直接转成对应整数，否则报错

#### 自动转型

整数和浮点数混合运算时，表达式结构自动转换为浮点数

#### 整数可以有多大

python2中，int是32位，可以存储从-2147483648到2147483647的整数，long类型是64位，可以存储-2^62~2^63-1之间的数值

python3中，int可以存储任意大小的整数，long被取消，我们甚至可以存储下面的值：google=10**100

Googol是Google最初的名字，这也是Google最初的含义

在python3中可用超大数的计算，而不会造成“整数溢出”，这也是pythonn特别适合科学计算的特点

### 浮点数

浮点数，称为float

浮点数用$a*b^e$形式的科学计数法表示，比如3.14表示成$314E-2$或者$314e-2$这些数字在内存中也是安装科学计数法存储。

#### 类型转换和四舍五入

1. 类似于int() 我们也可以使用float()将其转换为浮点数
2. 整数和浮点数混合运算时，表达式结果自动转换为浮点数
3. round(value)可以返回四舍五入的值（不会改变原有值，是产生新的值）

#### 增强型赋值运算符

运算符 + - * /  //  **和%赋值符结合可以构成增强赋值运算符 a=a+1等价于 a+=1

### 时间的表示

计算机中时间的表示是从1970年1月1日00:00:00开始，以毫秒进行计算，我们也把1970年这个时刻称为unix时间点

python中可以通过time.time()获得当前时刻，返回的是以秒为单位

### 布尔值

Python2中没有布尔值，直接用数字-表示False用数字1表示True

Python3中，把True和False定义成了关键字，但他们的本质也还是1和0，甚至可以和数字相加

### 比较运算符

所有比较运算符返回1表示真，返回0表示假，这分别于特殊的变量True和False等价

> ==	   !=  	 >	   <   	>=	  <=

### 逻辑运算符

> or  and  not

### 同一运算符

比较两个对象的存储单元，实际比较的是对象的地址

| 运算符 | 描述                                     |
| ------ | ---------------------------------------- |
| is     | is是判断两个标识符是不是引用同一个对象   |
| is not | is not是判断两个标识符是不是引用不同对象 |

is和==区别：

is用于判断两个变量引用对象是否为同一个，既比较对象的地址

==用于判断引用变量引用对象的值是否相等，默认调用对象的`__eq__()`方法

### 常数缓存问题

python仅仅对比较小的整数对象进行缓存（【-5,256】）。注意这仅仅是在命令行中执行，而在pycharm或者保存文件执行的时候是不一样的，这是因为解释器进行了一部分优化（【-5，任意正整数】）

> 总结：
>
> 1. is比较两个对象的id值是否相等，是否指向同一个内存地址
> 2. ==比较的是两个对象的内容是否相等，值是否相等
> 3. 小整数对象[-5,256]在全局解释器范围内被放入缓存供重复使用
> 4. is运算符比==效率高，在变量和None进行比较时，应该使用is

### 字符串

#### 字符串基本特点

很多人初学编程时，总是担心自己数学不好，潜意识里认为数学好才能编程，实际上，大多数程序员打交道最多的是“字符串”而不是“数字”.因为，编程是用了解决现实问题的，因此逻辑思维的重要性往往超过数学能力。

字符串的本质是：==字符序列==。python的字符串是不可变的，我们无法对原字符串做任何修改。但，可以将字符串的一部分复制到新创建的字符串，达到“看起来修改”的效果。

python不支持单字符类型，单字符也是作为一个字符串使用的。

#### 字符串的编码

Python3直接支持Unicode，可以表示世界上任何书面语言的字符。Python3的字符默认就是16位Unicode编码，ASCII码是Unicode编码的子集。

- 使用内置函数ord()可以把字符转换成对应的Unicide码；
- 使用内置函数chr()可以把十进制数字转换成对应的字符

```python
print(ord('A'))#65
print(ord('桑'))#26705
print(chr(66))#B
print(chr(20001))#両
```

#### 引号创建字符串

我们可以通过单引号或双引号创建字符串，eg：a='abc'  b=“slp"

我们使用两种引号的好处是可以创建本身就包含引号的字符串，而不用使用转义字符

连续三个单引号或三个双引号，可以帮助我们创建多行字符串。

#### 空字符串和len()函数

python允许空字符串的存在，不包含任何字符，且长度为0.

len()用于计算字符串含有多少字符。

#### 转义字符

我们可以使用`"\+特殊字符"`实现某些难以用字符表示的效果，比如：换行等。常见的转义字符有：

| 转义字符      | 描述       |
| ------------- | ---------- |
| `\(在行尾时)` | 续行符     |
| `\\`          | 反斜杠符号 |
| `\'`          | 单引号     |
| `\"`          | 双引号     |
| \b            | 退格       |
| \n            | 换行       |
| \t            | 横向制表符 |
| \r            | 回车       |

#### 字符串拼接

1. 可以使用+将多个字符串拼接起来
   - 如果+两边都是字符串，则拼接
   - 如果+两边都是数字，则做加法运算
   - 如果+两边类型不同，则抛出异常
2. 可以将多个字面字符串直接放到一起实现拼接

#### 字符串复制

使用*可以实现字符串复制

```python
a = 'Slp'*3
a #SlpSlpSlp
```

#### 不换行打印

我们前面调用print时，会自动打印一个换行符。有时，我们不想换行，不想自动添加换行。我们可以通过自己指定end=“任意字符串”，实现末尾添加任何内容。

#### 从控制欲读取字符串

我们可以使用input()从控制台读取键盘输入的内容。

#### str()实现数字转型字符串

str()可以帮助我们将其他数据类型转换为字符串

当我们调用print()函数时，解释器自动调用了str()将费字符串的对象转成了字符串。

#### 使用[]提取字符

字符串的本质就是字符序列，我们可以通过在字符串后面添加[],在[]里面指定便宜了，可以提取该位置的单个字符。

- 正向搜索：最左侧第一个字符，偏移量是0，第二个偏移量是1，依次类推，直到len(str)-1为止
- 反向搜索：最右侧第一个字符，偏移量是-1，导数第二个偏移量是-2，依次类推，直到-len(str)为止

#### replace()实现字符串替换

字符串是不可改变的，我们通过[]可以获取字符串指定位置的字符，但是我们不能改变字符串，如果我们尝试改变某个字符，会有错误`TypeError :'str' object does not support item assignment`

字符串不可改变，但是我们确实有时候需要替换，此时我们只能通过创建新的字符串来实现。

```python
a = '123'
a = a.replace('1','4')
```

整个过程中，实际上是创建了新的字符串对象，并指向了a,而不是修改了以前的字符串。

#### 字符串切片slice操作

切片slice操作可以让我们快速的提取子字符串，标准格式为：[起始偏移量 start:终止偏移量end:步长 step]

典型操作（三个量为正数的情况）如下:

| 操作和说明                                      | 示例          | 结果   |
| ----------------------------------------------- | ------------- | ------ |
| [:]提取整个字符串                               | abcdef[:]     | abcdef |
| [stsrt:] 从start索引开始到结尾                  | abcdef[2:]    | cdef   |
| [:end]从头开始到end-1                           | abcdef[:2]    | ab     |
| [start:end]从start到end-1                       | abcdef[2:4]   | cd     |
| `[start:end:step]`从start开始到end-1,步长是step | abcdef[1:5:2] | bd     |

其他操作（三个数为负数）的情况：

| 示例                         | 说明                                | 结果                       |
| ---------------------------- | ----------------------------------- | -------------------------- |
| “abcdefghijk”[-3:]           | 倒数3个                             | ijk                        |
| “abcdefghijkstuvwxyz”[-8:-3] | 倒数第8个到倒数第三个（包头不包尾） | stuvw                      |
| “abcdefghijkstuvwxyz”[::-1]  | 步长为负，从右到左反向提取          | zyxwvutsrqponmlkjihgfedcba |

切片操作时，起始偏移量和终止偏移量不在[0,字符串长度-1]这个范围，也不会报错。起始偏移量小于0则会当成0，终止偏移量大于长度-1，则会被当成-1

#### split()分隔和join()合并

split()可以基于指定分隔符将字符串分割成多个子字符串（存储到列表中）。如果不指定分隔符，则默认使用空白字符（换行符/空格/制表符）

join()的作用和split()作用正好相反，用于将一系列子字符串连接起来。

```python
print(a.split())
b=['s','l','p']
print("".join(b))
```

> 拼接字符串要点：
>
> 使用字符串拼接符+，会生产新的字符串对象，因此不推荐使用+来拼接字符串。推荐使用join函数，因为join函数再拼接字符串之前会计算所有字符串的长度，然后逐一拷贝，仅新建一次对象。

#### 字符串驻留机制和字符串同一性判断

字符串驻留:仅保存一份相同且不可变字符串的方法，不同的值被存放在字符串驻留池中，python支持字符串驻留机制，对于符合标识符规则的字符串（下划线 字母 数字）会启用字符串驻留机制

#### 字符串常用方法汇总

##### 常用查找方法

| 方法和使用示例    | 说明                         | 结果 |
| ----------------- | ---------------------------- | ---- |
| len(a)            | 字符串长度                   |      |
| a.startwith('ss') | 以指定字符串开头             |      |
| a.endswith('tt')  | 以指定字符串结尾             |      |
| a.find('s')       | 第一次出现指定字符串的位置   |      |
| a.rfind('t')      | 最后一次出现指定字符串的位置 |      |
| a.count(’a‘)      | 指定字符串出现了几次         |      |
| a.isalnum()       | 所有字符全是字母或数字       |      |

##### 去除首尾信息

我们可以使用strip()去除字符串收尾指定信息，通过lstrip()去除字符串左边指定信息，rstrip()去除字符串右边指定信息

##### 大小写转换

| 示例           | 说明                                 | 结果 |
| -------------- | ------------------------------------ | ---- |
| a.capitalize() | 产生新的字符串，首字母大写           |      |
| a.title()      | 产生新的字符串，每个单词都首字母大写 |      |
| a.upper()      | 产生新的字符串，所有字符全部转成大写 |      |
| a.lower()      | 产生新的字符串，所有字符全转成小写   |      |
| a.swapcase()   | 产生新的，所有字母大小写转换         |      |

##### 格式排版

center()  ljust() rjust()这3个函数用于对字符串实现排版

##### 字符串格式化

- format()基本用法：基本语法是通过{}和：来代替以前的%，format函数可以接受不限个数参数，位置可以不按顺序。

  ```python
  a="名字是：{0}，年龄是：{1}"
  print(a.format('slp','18'))
  b="名字是：{0}，年龄是{1}，{0}是个努力的小姑娘"
  print(b.format('slp',18))
  c="名字是{name},年龄是{age}"
  print(c.format(age=18,name='slp'))
  ```

  我们可以通过{索引}/{参数名}，直接映射参数值，实现对字符串的格式化。

- 填充与对齐

  填充常跟对齐一起使用

  ^ < > 分别是居中，左对齐 右对齐后面带宽度

  ：后面带填充的字符，只能是一个字符不指定则默认用空格填充。

- 数字格式化

  浮点数通过f,整数通过d进行需要的格式化

  | 格式    | 描述                       | 输出 |
  | ------- | -------------------------- | ---- |
  | {:.2f}  | 保留小数点后两位           |      |
  | {:+.2f} | 带符号保留小数点后两位     |      |
  | {:.0f}  | 不带小数                   |      |
  | {:0>2d} | 数字补0，填充左侧，宽度为2 |      |
  | {:x<4d} | 数字补x,填充右边，宽度为4  |      |
  | {:,}    | 以逗号分隔的数字格式       |      |
  | {:.2%}  | 百分比格式                 |      |
  | {:.2e}  | 指数记法                   |      |
  | {:10d}  | 右对齐，（默认，宽度为10） |      |
  | {:<10d} | 左对齐，（宽度为10）       |      |
  | {:^10d} | 中间对齐（宽度为10）       |      |

##### 可变字符串

在python中，字符串属于不可变对象，不支持原地修改，如果需要修改其中的值，只能创建新的字符串对象，但是，经常我们确实需要原地修改字符串，可以使用ioStringIO对象或array模块

```python
import io
s = 'hello slp'
sio = io.StringIO(s)
print(sio)
print(sio.getvalue())
print(sio.seek(7))
print(sio.write('g'))
print(sio.getvalue())
```

##### 其他方法

1. isalnum():是否为字母或数字
2. isalphal():检测字符串是否只由字母组成（含汉字）
3. isdigit():检测字符串是否只由数字组成
4. isspace():检测是否为空白符
5. isupper():是否为大写字母
6. islower():是否为小写字母

### 基本运算符

| 运算符             | 说明                             |
| ------------------ | -------------------------------- |
| or  and  not       | 布尔或 布尔与 布尔非             |
| is 、 is not       | 同一性判断，判断是否为同一个对象 |
| <   <=  > >= != == | 比较值是否相当，可以连用         |
| \|    ^  &         | 按位或  按位异或  按位与         |
| <<      >>         | 移位                             |
| ~                  | 按位翻转                         |
| + - * /  // %      | 加 减 乘  除  整数除 取余        |
| **                 | 幂运算                           |

##### 运算符优先级

由高到低

| 运算符                  | 描述                     |
| ----------------------- | ------------------------ |
| **                      | 指数                     |
| ~ + -                   | 按位翻转  一元加号和减号 |
| * /  // %               | 乘  除  取模  取整除     |
| + -                     | 加法 减法                |
| >>   <<                 | 右移 左移运算符          |
| &                       | 位 AND                   |
| ^ \|                    | 位运算符                 |
| <=  <  >  >=            | 比较运算符               |
| <>  ==  !=              | 等于运算符               |
| =  %=  /= //= -= *= **= | 赋值运算符               |
| is  、is not            | 身份运算符               |
| in 、not in             | 成员运算符               |
| not  and or             | 逻辑运算符               |



> 微信搜一搜【梓莘】或扫描下方二维码交个朋友共同进步。文章持续更新中。目前在整理python百战学习笔记，期待后续更多的更新哦。

